const hre = require("hardhat");

async function main() {
  // Attach to your deployed contract
  const Voting = await hre.ethers.getContractFactory("Voting");
  const voting = 
Voting.attach("0xDc64a140Aa3E981100a9becA4E685f962f0cF6C"); // your 
deployed contract address

  // Read admin
  const admin = await voting.admin();
  console.log("Admin:", admin);

  // Read candidates count
  const countBN = await voting.candidatesCount();
  const count = countBN.toNumber();
  console.log("Candidates count:", count);

  // Loop through candidates
  for (let i = 1; i <= count; i++) {
    const c = await voting.getCandidate(i);
    console.log(`ID: ${c.id}, Name: ${c.name}, Votes: ${c.voteCount}`);
    console.log(`Manifesto: ${c.manifesto}`);
    console.log(`Login Address: ${c.candidateAddress}`);
    console.log("----------------------");
  }
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});